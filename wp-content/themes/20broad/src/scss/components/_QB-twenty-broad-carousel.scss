// QB Twenty Broad Neighborhood Carousel component
.component-carousel {
	background-size: cover;
	height: 50vh;
	max-height: 500px;
	min-height: 300px;
	overflow: hidden;

	@include mediaquery(desktop) {
		height: auto;
		max-height: inherit;
	}

	&.align-right .content-wrapper {
		float: left;
	}

	&.color-dark .content-wrapper {
		background: #002136;

		h2, p {
			color: color('global', 'white');
		}
	}

	.content-wrapper {
		background: #F2F2F2;
		bottom: 0;
		float: right;
		height: 70px;
		position: absolute;
		top: inherit;
		width: 100%;
		z-index: 1;

		h2, h3, p {
			color: black;
			margin: 0;
			padding: 0;
			text-align: center;
		}

		h2 {
			margin-bottom: 10px;
			color: color('global', 'gold');
			left: 0;
			position: relative;
			text-align: center;
			text-indent: 0;
			top: -4px;

			@include mediaquery(tablet-portrait) {
				left: -70px;
				text-align: right;
				top: auto;
			}

			@include mediaquery(desktop) {
				left: auto;
				text-align: left;
				text-indent: 50px;
			}
		}

		h3 {
			color: rgb(128, 128, 128);
			line-height: 1.6rem;
			margin-bottom: $gap;
			padding: 0 10px;
		}

		p {
			bottom: 130px;
			color: color('global', 'gold');
			display: none; // Mobile
			float: right;
			line-height: 3.3rem;
			margin: 50px 25px 0 25px;
			position: absolute;
			right: 70px;
			text-align: left;
		}

		.slide {
			height: 100%;
			left: 0;
			opacity: 0;
			position: absolute;
			right: 0;
			top: 22px;
			@include transition(opacity .5s);

			&.active {
				opacity: 1;
				@include transition(opacity .5s);
			}

			@include mediaquery(desktop) {
				top: $gap*2;
			}
		}

		.slides {
			// JavaScript will override this on desktop
			.page-residences & {
				height: 70px !important;
			}

			@include mediaquery(tablet-portrait) {
				
			}

			@include mediaquery(desktop) {
				min-height: 500px;
			}
		}

		@include mediaquery(desktop) {
			// margin: 50px auto;
			height: auto;
			margin: 0;
			max-width: 80vw;
			min-width: 40%;
			padding: $gap*2 0;
			position: relative;
			width: auto;

			p {
				display: block;
			}
		}
	}

	&.align-left .dots-component {
		text-align: center;

		@include mediaquery(tablet-portrait) {
			text-align: left;
		}

		@include mediaquery(desktop) {
			text-align: right;

		}

		li.dot {
			margin-left: $gap*2;
			
			// https://stackoverflow.com/questions/2717480/css-selector-for-first-element-with-class
			~ .dot {
				margin-left: 0;
			}

			&:last-child {
				margin-right: $gap*2;
			}
		}

		.arrow-nav {
			float: left;
			margin-left: $gap/2;
		}
	}

	&.color-dark .dots-component {
		@include mediaquery-max(desktop) {
			li.dot {
				a {
					border: 1px solid color('global', 'white');


				}

				&.active, &:hover {
					cursor: pointer;

					a {
						background: color('global', 'white');
					}
				}
			}
		}
	}

	.dots-component {
		background: transparent;
		bottom: 0;
		height: 42px;
		left: 0;
		padding: 10px;
		position: absolute;
		right: 0;
		text-align: center;
		z-index: 1;

		li {
			display: inline-block;
			float: none;
			margin-right: 20px;

			&.dot {
				position: relative;
				top: 6px;

				a {
					background: transparent;
					border: 1px solid color('global', 'gold');
					border-radius: 15px;
					display: inline-block;
					height: 10px;
					width: 10px;
				}

				&.active, &:hover {
					cursor: pointer;

					a {
						background: color('global', 'gold');
					}
				}

				margin-left: $gap*2;
				
				// https://stackoverflow.com/questions/2717480/css-selector-for-first-element-with-class
				~ .dot {
					margin-left: 0;
				}

				&:last-child {
					margin-right: $gap*2;
				}

				@include mediaquery(desktop) {
					margin-left: $gap*2;

					// https://stackoverflow.com/questions/2717480/css-selector-for-first-element-with-class
					~ .dot {
						margin-left: 0;
					}

					&:last-child {
						margin-right: 0;
					}
				}
			}

			.nav {
				display: inline-block;
				float: left;
				position: relative;
				z-index: 1;

				svg {
					height: 17px;
					width: 17px;
				}

				&.next {
					
				}

				&.prev {
					
				}
			}
		}

		.arrow-nav {
			display: none;
			float: right;
			margin-right: $gap/2;
			position: relative;

			li {
				margin: 0;
			}

			@include mediaquery(desktop) {
				top: 6px;
			}
		}

		@include mediaquery(tablet-portrait) {
			height: 50px;
			text-align: left;
		}

		@include mediaquery(desktop) {
			background: white;
			height: 50px;

			.arrow-nav {
				display: block;
			}
		}
	}

	&.align-left .slide-background-container {
		left: 0;
	}

	.slide-background-container {
		bottom: 0;
		left: 0;
		position: absolute;
		right: 0;
		top: 0;

		.slide-background {
			background-position: top center;
			background-size: cover;
			bottom: 0;
			left: 0;
			position: absolute;
			right: 0;
			top: 0;
		}

		@include mediaquery(tablet-portrait) {
			max-width: 100%;
		}

		@include mediaquery(desktop) {
			bottom: 0;
			left: auto;
			max-width: 20vw;
			min-width: 60%;
			position: absolute;
			right: 0;
			top: 0;
			width: 100%;
		}
	}

	.page-about & {
		max-height: none;

		.content-wrapper {
			max-width: inherit;
			padding: 0;
			width: 50%;

			.slide {
				float: left;
				position: relative;
				top: 0;

				h2 {
					padding: 150px 0 100px;
					text-align: center;
					text-indent: 0;
				}

				p {
					bottom: auto;
					margin: 0;
					margin-right: 180px;
					padding-left: 80px;
					position: relative;
					right: 0;
				}
			}

			.slides {
				float: right;
				margin-bottom: 100px;
				width: 100%;
			}
		}

		.dots-component {
			background: transparent;
			margin-bottom: 50px;

			li {
				&.dot {
					margin-left: 50px;
					margin-right: 25px;
					margin-top: 5px;

					&:last-child {
						margin-right: 30px;
					}
				}
			}

			.arrow-nav {
				float: right;
				margin: 0;
				padding-left: 25px;
				width: 50%;

				li {
					float: left;
					margin-right: 10px;

				}
			}
		}

		.slide-background-container {
			max-width: inherit;
			width: 50%;
		}
	}
}
